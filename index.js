import{S as y,N as m,a as f,i as d}from"./assets/vendor-Dsc43iqD.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();const n={favoritesButton:document.querySelector("[data-add-favorites]"),cityInput:document.querySelector("[data-input-city]"),favoritiesList:document.querySelector("[data-favorities-list]"),swiperNavButtons:document.querySelectorAll(".header-wrapper-nav-button"),searchButton:document.querySelector("[data-search-button]"),curentTemp:document.querySelector(".days-current-temp"),currentLocation:document.querySelector(".days-city-title"),daysWrapper:document.querySelector(".days-wrapper"),maxTempText:document.querySelector("[data-max-temp]"),minTempText:document.querySelector("[data-min-temp]"),currentDate:document.querySelector(".date-day"),currentDay:document.querySelector(".day-week"),currentMonth:document.querySelector(".date-month"),currentTime:document.querySelector(".date-time"),sunRise:document.querySelector(".sunrise"),sunSet:document.querySelector(".sunset"),sunBlock:document.querySelector(".sun-rise-set"),switchFiveDays:document.querySelector("[data-switch-five-days]"),switchOneDay:document.querySelector("[data-switch-one-day]"),homeSection:document.querySelector(".home"),citeBlock:document.querySelector("[data-cite-block]"),dateBlock:document.querySelector(".date-wrapper")};function p(){new y("[data-swiper-cities]",{modules:[m],spaceBetween:10,slidesPerView:"auto",navigation:{nextEl:"[data-swiper-right]",prevEl:"[data-swiper-left]"}})}const g="7aa569d556494f818ff173014251206";async function h(e){return(await f.get("https://api.weatherapi.com/v1/forecast.json?days=1",{params:{key:g,q:e}})).data}function u(){const e=JSON.parse(localStorage.getItem("cities"));if(v(e),!e||e.length===0){n.favoritiesList.innerHTML="";return}n.favoritiesList.innerHTML=S(e),p()}function v(e){if(!e||e.length<3){n.swiperNavButtons.forEach(t=>t.style.display="none");return}n.swiperNavButtons.forEach(t=>t.style.display="block")}function S(e){return e.map(t=>`<li class="header-favority-list-item swiper-slide">
                        <span class="header-favority-list-item-text">${t}</span>
                        <button type="button" class="header-favority-list-item-button" data-city-del-button="${t}">
                            <svg>
                                <use href="./symbol-defs.svg#close"></use>
                            </svg>
                        </button>
                     </li>`).join("")}async function w(){const e=await l();e&&T(e)}function L(e){return`${e[0].toUpperCase()}${e.slice(1).toLowerCase()}`}function T(e){const t=JSON.parse(localStorage.getItem("cities"))||[];t.includes(e)||(t.push(e),localStorage.setItem("cities",JSON.stringify(t)),x(),u())}function x(){d.success({message:"City added to favorites",maxWidth:"200px",position:"topRight",messageSize:"10",icon:"",progressBar:!1,timeout:1e3,backgroundColor:"transparent",close:!1,messageColor:"green"})}function D(){d.error({message:"City not found",maxWidth:"200px",position:"topRight",messageSize:"10",icon:"",progressBar:!1,timeout:1e3,backgroundColor:"transparent",close:!1,messageColor:"red"})}function b(e){const t=e.target.closest("[data-city-del-button]")?e.target.closest("[data-city-del-button]"):e.target.closest(".header-favority-list-item-text");if(t){if(t.tagName==="BUTTON"){q(t);return}n.cityInput.value=t.textContent,l()}}function q(e){const t=e.dataset.cityDelButton,o=JSON.parse(localStorage.getItem("cities"));localStorage.setItem("cities",JSON.stringify(o.filter(i=>i!==t))),u()}async function l(){const e=n.cityInput.value.trim();if(!e)return;const t=L(e);try{const o=await h(t);return C(o),t}catch{return D(),!1}finally{n.cityInput.value=""}}function C(e){B(e.current.temp_c),M(e.location),O(e.current.cloud),I(e.forecast.forecastday[0].day.maxtemp_c),E(e.forecast.forecastday[0].day.mintemp_c),H(e.forecast.forecastday[0].astro.sunrise),P(e.forecast.forecastday[0].astro.sunset),n.sunBlock.style.display="flex"}function k(){const e=new Date;F(e.getDate()),W(e.getDay()),$(e.getMonth()),setInterval(()=>{J(new Date)},1e3)}function B(e){n.curentTemp.innerHTML=e}function M({name:e,country:t}){n.currentLocation.innerHTML=`${e}, ${t}`}function O(e){e>=85?a("./cloudy.png","cloudy"):e>=30?a("./cloudy-sun.png","cloudy-sun"):a("./sun.png","sun")}function a(e,t){N();const o=document.createElement("img");o.src=e,o.alt=t,o.classList.add("days-cloudy"),n.daysWrapper.prepend(o)}function N(){const e=document.querySelector(".days-cloudy");e&&e.remove()}function I(e){n.maxTempText.textContent=`${e}°`}function E(e){n.minTempText.textContent=`${e}°`}function F(e){const t=e%10===1&&e!==11?"st":e%10===2&&e!==12?"nd":e%10===3&&e!==13?"rd":"th";n.currentDate.innerHTML=`${e}<sup>${t}</sup>`}function W(e){const t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];n.currentDay.textContent=t[e]}function $(e){const t=["January","February","March","April","May","June","July","August","September","October","November","December"];n.currentMonth.textContent=t[e]}function J(e){const t=e.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});n.currentTime.textContent=t}function H(e){n.sunRise.textContent=e.split(" ")[0]}function P(e){n.sunSet.textContent=e.split(" ")[0]}function R(){n.daysWrapper.style.display="none",n.homeSection.classList.add("home-five"),n.switchOneDay.classList.remove("is-active"),n.switchFiveDays.classList.add("is-active"),n.citeBlock.style.display="none",n.dateBlock.style.display="none"}function z(){n.daysWrapper.style.display="block",n.homeSection.classList.remove("home-five"),n.switchOneDay.classList.add("is-active"),n.switchFiveDays.classList.remove("is-active"),n.citeBlock.style.display="block",n.dateBlock.style.display="block"}n.favoritesButton.addEventListener("click",w);n.favoritiesList.addEventListener("click",b);n.searchButton.addEventListener("click",l);n.switchFiveDays.addEventListener("click",R);n.switchOneDay.addEventListener("click",z);u();k();
//# sourceMappingURL=index.js.map
