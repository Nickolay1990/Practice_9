import{i as m,S as f,N as v,a as E,b as w}from"./assets/vendor-By_rsrir.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();const t={favoritesButton:document.querySelector("[data-add-favorites]"),cityInput:document.querySelector("[data-input-city]"),favoritiesList:document.querySelector("[data-favorities-list]"),swiperNavButtons:document.querySelectorAll(".header-wrapper-nav-button"),searchButton:document.querySelector("[data-search-button]"),curentTemp:document.querySelector(".days-current-temp"),currentLocation:document.querySelector(".days-city-title"),threeCurrentLocation:document.querySelector(".three-days-city-title"),daysWrapper:document.querySelector(".days-wrapper"),maxTempText:document.querySelector("[data-max-temp]"),minTempText:document.querySelector("[data-min-temp]"),currentDate:document.querySelector(".date-day"),currentDay:document.querySelector(".day-week"),currentMonth:document.querySelector(".date-month"),currentTime:document.querySelector(".date-time"),sunRise:document.querySelector(".sunrise"),sunSet:document.querySelector(".sunset"),sunBlock:document.querySelector(".sun-rise-set"),switchThreeDays:document.querySelector("[data-switch-three-days]"),switchOneDay:document.querySelector("[data-switch-one-day]"),homeSection:document.querySelector(".home"),citeBlock:document.querySelector("[data-cite-block]"),dateBlock:document.querySelector(".date-wrapper"),threeDayContainer:document.querySelector(".three-day-container"),threeDaysCityWeekday:document.querySelectorAll(".three-days-city-list-weekday"),threeDaysDate:document.querySelectorAll(".three-days-city-list-date"),threeDaysElemetsForImage:document.querySelectorAll(".three-days-city-list-hight-item"),threeDaysElementsForMinTemp:document.querySelectorAll(".three-days-city-list-min-temp-deg"),threeDaysElementsForMaxTemp:document.querySelectorAll(".three-days-city-list-max-temp-deg"),moreInfoButtons:document.querySelectorAll(".three-days-city-list-more-button"),hideInfoButtons:document.querySelectorAll(".three-days-city-list-hide-button"),moreInfoListItems:document.querySelectorAll(".three-days-more-info-list-item-wrapper"),moreInfoCurrentTemp:document.querySelectorAll(".three-days-more-info-list-item-current-temp"),moreInfoPressure:document.querySelectorAll(".three-days-more-info-list-item-esential-block-pressure-data"),moreInfoHumidity:document.querySelectorAll(".three-days-more-info-list-item-esential-block-humidity-data"),moreInfoWind:document.querySelectorAll(".three-days-more-info-list-item-esential-block-wind-data"),moreInfoBlock:document.querySelector(".three-days-more-info-wrapper"),chartButton:document.querySelector(".chart-button"),chartButtonClose:document.querySelector(".chart-button-close"),chartContainer:document.querySelector(".chart-container")};function h(){m.error({message:"City not found",maxWidth:"200px",position:"topRight",messageSize:"10",icon:"",progressBar:!1,timeout:1e3,backgroundColor:"transparent",close:!1,messageColor:"red"})}function D(){m.success({message:"City added to favorites",maxWidth:"200px",position:"topRight",messageSize:"10",icon:"",progressBar:!1,timeout:1e3,backgroundColor:"transparent",close:!1,messageColor:"green"})}function I(){new f("[data-swiper-cities]",{modules:[v],spaceBetween:10,slidesPerView:"auto",navigation:{nextEl:"[data-swiper-right]",prevEl:"[data-swiper-left]"}})}function x(){new f("[data-swiper-more-info]",{modules:[E],spaceBetween:30,slidesPerView:2,scrollbar:{el:".swiper-scrollbar",draggable:!0}})}function L(e){if(!e||e.length<3){t.swiperNavButtons.forEach(o=>o.style.display="none");return}t.swiperNavButtons.forEach(o=>o.style.display="block")}function q(e){return e.map(o=>`<li class="header-favority-list-item swiper-slide">
                        <span class="header-favority-list-item-text">${o}</span>
                        <button type="button" class="header-favority-list-item-button" data-city-del-button="${o}">
                            <svg>
                                <use href="./symbol-defs.svg#close"></use>
                            </svg>
                        </button>
                     </li>`).join("")}function l(){const e=JSON.parse(localStorage.getItem("cities"));if(L(e),!e||e.length===0){t.favoritiesList.innerHTML="";return}t.favoritiesList.innerHTML=q(e),I()}function T(e){const o=JSON.parse(localStorage.getItem("cities"))||[];o.includes(e)||(o.push(e),localStorage.setItem("cities",JSON.stringify(o)),D(),l())}function b(e){const o=e.dataset.cityDelButton,r=JSON.parse(localStorage.getItem("cities"));localStorage.setItem("cities",JSON.stringify(r.filter(s=>s!==o))),l()}function k(e){localStorage.setItem("lastCity",JSON.stringify(e))}function B(){return JSON.parse(localStorage.getItem("lastCity"))}function M(e){return`${e[0].toUpperCase()}${e.slice(1).toLowerCase()}`}function O(e){t.curentTemp.innerHTML=e}function N({name:e,country:o}){t.currentLocation.innerHTML=`${e}, ${o}`,t.threeCurrentLocation.innerHTML=`${e}, ${o}`}function A(e){$();const o=document.createElement("img");o.src=e.current.condition.icon,o.alt="conditions",o.classList.add("days-cloudy"),t.daysWrapper.prepend(o),t.threeDaysElemetsForImage.forEach((r,s)=>{const n=document.createElement("img");n.src=e.forecast.forecastday[s].day.condition.icon,n.classList.add("days-cloudy"),n.alt="conditions",r.append(n)})}function $(){const e=document.querySelectorAll(".days-cloudy");e.length>0&&e.forEach(o=>o.remove())}function W(e){t.maxTempText.textContent=`${e[0].day.maxtemp_c}°`,t.threeDaysElementsForMaxTemp.forEach((o,r)=>{o.textContent=`${e[r].day.maxtemp_c}°`})}function F(e){t.minTempText.textContent=`${e[0].day.mintemp_c}°`,t.threeDaysElementsForMinTemp.forEach((o,r)=>{o.textContent=`${e[r].day.mintemp_c}°`})}function H(e){t.sunRise.textContent=e.split(" ")[0]}function P(e){t.sunSet.textContent=e.split(" ")[0]}const _="7aa569d556494f818ff173014251206";let u;async function p(e){const o=await w.get("https://api.weatherapi.com/v1/forecast.json?days=3",{params:{key:_,q:e}});return u=o.data,o.data}function J(e){R(),t.moreInfoListItems.forEach((o,r)=>{const s=document.createElement("img");s.src=e[r].hour[0].condition.icon,s.alt="condition",s.classList.add("days-cloudy"),s.dataset.days="three",o.append(s)})}function R(){const e=document.querySelectorAll("[data-days=three]");e.length!==0&&e.forEach(o=>o.remove())}function z(e){t.moreInfoCurrentTemp.forEach((o,r)=>{o.textContent=`${e[r].day.avgtemp_c}°`})}function V(e){const o=new Date().getHours();t.moreInfoPressure.forEach((r,s)=>{r.textContent=`${Math.floor(e[s].hour[o].pressure_in*25.5)} mm`})}function j(e){t.moreInfoHumidity.forEach((o,r)=>{o.textContent=`${e[r].day.avghumidity}%`})}function K(e){t.moreInfoWind.forEach((o,r)=>{o.textContent=`${(e[r].day.maxwind_kph*1e3/60/60).toFixed(1)} m/s`})}function g(e){console.log("data>>>>>",e),O(e.current.temp_c),N(e.location),A(e),W(e.forecast.forecastday),F(e.forecast.forecastday),H(e.forecast.forecastday[0].astro.sunrise),P(e.forecast.forecastday[0].astro.sunset),t.sunBlock.style.display="flex"}function U(e){J(e.forecast.forecastday),z(e.forecast.forecastday),V(e.forecast.forecastday),j(e.forecast.forecastday),K(e.forecast.forecastday)}async function G(){const e=B();if(e)try{const o=await p(e);g(o)}catch{h()}}let d=!1;async function Y(){const e=await y();e&&T(e)}function Q(e){const o=e.target.closest("[data-city-del-button]")?e.target.closest("[data-city-del-button]"):e.target.closest(".header-favority-list-item-text");if(o){if(o.tagName==="BUTTON"){b(o);return}t.cityInput.value=o.textContent,y()}}async function y(){const e=t.cityInput.value.trim();if(!e)return;const o=M(e);try{const r=await p(o);return g(r),k(o),d&&S(u),o}catch{return h(),!1}finally{t.cityInput.value=""}}function X(){t.daysWrapper.style.display="none",t.homeSection.classList.add("home-three"),t.switchOneDay.classList.remove("is-active"),t.switchThreeDays.classList.add("is-active"),t.citeBlock.style.display="none",t.dateBlock.style.display="none",t.threeDayContainer.style.display="block",t.chartButton.style.display="flex"}function Z(){t.daysWrapper.style.display="block",t.homeSection.classList.remove("home-three"),t.switchOneDay.classList.add("is-active"),t.switchThreeDays.classList.remove("is-active"),t.citeBlock.style.display="block",t.dateBlock.style.display="block",t.threeDayContainer.style.display="none",t.chartButton.style.display="none"}function S(){t.moreInfoButtons.forEach(e=>e.style.display="none"),t.hideInfoButtons.forEach(e=>e.style.display="block"),d=!0,U(u),x(),t.moreInfoBlock.style.display="block"}function ee(){t.hideInfoButtons.forEach(e=>e.style.display="none"),t.moreInfoButtons.forEach(e=>e.style.display="block"),d=!1,t.moreInfoBlock.style.display="none"}function te(e){t.chartContainer.style.display="block",e.currentTarget.style.display="none"}function oe(){t.chartContainer.style.display="none",t.chartButton.style.display="flex"}const c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],C=["January","February","March","April","May","June","July","August","September","October","November","December"];function re(e){const o=e%10===1&&e!==11?"st":e%10===2&&e!==12?"nd":e%10===3&&e!==13?"rd":"th";t.currentDate.innerHTML=`${e.getDate()}<sup>${o}</sup>`,t.threeDaysDate.forEach((r,s)=>{const n=new Date(e);n.setDate(e.getDate()+s),r.textContent=`${n.getDate()} ${C[n.getMonth()].slice(0,3)}`})}function ne(e){t.currentDay.textContent=c[e],t.threeDaysCityWeekday.forEach((o,r)=>{const s=e+r;if(s>=7){o.textContent=c[s===7?0:1];return}o.textContent=c[s]})}function se(e){t.currentMonth.textContent=C[e]}function ae(e){const o=e.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});t.currentTime.textContent=o}function ie(){const e=new Date;re(e),ne(e.getDay()),se(e.getMonth()),setInterval(()=>{ae(new Date)},1e3)}t.favoritesButton.addEventListener("click",Y);t.favoritiesList.addEventListener("click",Q);t.searchButton.addEventListener("click",y);t.switchThreeDays.addEventListener("click",X);t.switchOneDay.addEventListener("click",Z);t.moreInfoButtons.forEach(e=>e.addEventListener("click",S));t.hideInfoButtons.forEach(e=>e.addEventListener("click",ee));t.chartButton.addEventListener("click",te);t.chartButtonClose.addEventListener("click",oe);l();ie();G();
//# sourceMappingURL=index.js.map
