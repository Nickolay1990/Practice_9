import{S as l,N as u,a as d,i as p}from"./assets/vendor-Dsc43iqD.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function a(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=a(i);fetch(i.href,s)}})();const o={favoritesButton:document.querySelector("[data-add-favorites]"),cityInput:document.querySelector("[data-input-city]"),favoritiesList:document.querySelector("[data-favorities-list]"),swiperNavButtons:document.querySelectorAll(".header-wrapper-nav-button"),searchButton:document.querySelector("[data-search-button]")},f="data:image/svg+xml,%3csvg%20aria-hidden='true'%20style='position:%20absolute;%20width:%200;%20height:%200;%20overflow:%20hidden;'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3csymbol%20id='star'%20viewBox='0%200%2035%2032'%3e%3cpath%20stroke-linejoin='miter'%20stroke-linecap='butt'%20stroke-miterlimit='4'%20stroke-width='1.6'%20d='M20.791%2012.408l0.18%200.553h10.906l-8.824%206.411%203.37%2010.372-8.823-6.409-0.47%200.341-8.355%206.069%203.372-10.372-8.823-6.411h10.906l3.37-10.373%203.191%209.82z'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='location'%20viewBox='0%200%2032%2032'%3e%3cpath%20stroke-linejoin='miter'%20stroke-linecap='butt'%20stroke-miterlimit='4'%20stroke-width='2.9091'%20d='M27.636%2016c0%206.427-5.21%2011.636-11.636%2011.636s-11.636-5.21-11.636-11.636c0-6.427%205.21-11.636%2011.636-11.636s11.636%205.21%2011.636%2011.636z'%3e%3c/path%3e%3cpath%20d='M14.545%200h2.909v5.818h-2.909v-5.818z'%3e%3c/path%3e%3cpath%20d='M14.545%2026.182h2.909v5.818h-2.909v-5.818z'%3e%3c/path%3e%3cpath%20d='M5.818%2014.545v2.909h-5.818v-2.909h5.818z'%3e%3c/path%3e%3cpath%20d='M32%2014.545v2.909h-5.818v-2.909h5.818z'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='close'%20viewBox='0%200%2032%2032'%3e%3cpath%20stroke-linejoin='miter'%20stroke-linecap='butt'%20stroke-miterlimit='4'%20stroke-width='4'%20d='M2.667%202.667l26.667%2026.667M2.667%2029.333l26.667-26.667'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='arrow'%20viewBox='0%200%2022%2032'%3e%3cpath%20stroke-linejoin='miter'%20stroke-linecap='butt'%20stroke-miterlimit='4'%20stroke-width='4.8'%20d='M3.2%203.2l12.8%2012.8-12.8%2012.8'%3e%3c/path%3e%3c/symbol%3e%3c/defs%3e%3c/svg%3e";function h(){new l("[data-swiper-cities]",{modules:[u],spaceBetween:10,slidesPerView:"auto",navigation:{nextEl:"[data-swiper-right]",prevEl:"[data-swiper-left]"}})}const m="7aa569d556494f818ff173014251206";async function y(t){const e=await d.get("https://api.weatherapi.com/v1/forecast.json?days=1",{params:{key:m,q:t}});return console.log(e.data),e}function c(){const t=JSON.parse(localStorage.getItem("cities"));v(t),!(!t||t.length===0)&&(o.favoritiesList.innerHTML=g(t),h())}function v(t){if(!t||t.length<3){o.swiperNavButtons.forEach(e=>e.style.display="none");return}o.swiperNavButtons.forEach(e=>e.style.display="block")}function g(t){return t.map(e=>`<li class="header-favority-list-item swiper-slide">
                        <span class="header-favority-list-item-text">${e}</span>
                        <button type="button" class="header-favority-list-item-button" data-city-del-button="${e}">
                            <svg>
                                <use href="${f}#close"></use>
                            </svg>
                        </button>
                     </li>`).join("")}function w(){const t=o.cityInput.value.trim();if(!t)return;const e=b(t);S(e),o.cityInput.value=""}function b(t){return`${t[0].toUpperCase()}${t.slice(1).toLowerCase()}`}function S(t){const e=JSON.parse(localStorage.getItem("cities"))||[];e.includes(t)||(e.push(t),localStorage.setItem("cities",JSON.stringify(e)),k(),c())}function k(){p.success({message:"City added to favorites",maxWidth:"200px",position:"topRight",messageSize:"10",icon:"",progressBar:!1,timeout:1e3,backgroundColor:"transparent",close:!1})}function B(t){const e=t.target.closest("[data-city-del-button]");if(!e)return;const a=e.dataset.cityDelButton,r=JSON.parse(localStorage.getItem("cities"));localStorage.setItem("cities",JSON.stringify(r.filter(i=>i!==a))),c()}async function x(){const t=o.cityInput.value.trim();if(!t)return;const e=await y(t);console.log(e)}o.favoritesButton.addEventListener("click",w);o.favoritiesList.addEventListener("click",B);o.searchButton.addEventListener("click",x);c();
//# sourceMappingURL=index.js.map
