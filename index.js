import{S as l,N as u,a as d,i as p}from"./assets/vendor-Dsc43iqD.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();const o={favoritesButton:document.querySelector("[data-add-favorites]"),cityInput:document.querySelector("[data-input-city]"),favoritiesList:document.querySelector("[data-favorities-list]"),swiperNavButtons:document.querySelectorAll(".header-wrapper-nav-button"),searchButton:document.querySelector("[data-search-button]"),curentTemp:document.querySelector(".days-current-temp"),currentLocation:document.querySelector(".days-city-title")},f="data:image/svg+xml,%3csvg%20aria-hidden='true'%20style='position:%20absolute;%20width:%200;%20height:%200;%20overflow:%20hidden;'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3csymbol%20id='star'%20viewBox='0%200%2035%2032'%3e%3cpath%20stroke-linejoin='miter'%20stroke-linecap='butt'%20stroke-miterlimit='4'%20stroke-width='1.6'%20d='M20.791%2012.408l0.18%200.553h10.906l-8.824%206.411%203.37%2010.372-8.823-6.409-0.47%200.341-8.355%206.069%203.372-10.372-8.823-6.411h10.906l3.37-10.373%203.191%209.82z'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='location'%20viewBox='0%200%2032%2032'%3e%3cpath%20stroke-linejoin='miter'%20stroke-linecap='butt'%20stroke-miterlimit='4'%20stroke-width='2.9091'%20d='M27.636%2016c0%206.427-5.21%2011.636-11.636%2011.636s-11.636-5.21-11.636-11.636c0-6.427%205.21-11.636%2011.636-11.636s11.636%205.21%2011.636%2011.636z'%3e%3c/path%3e%3cpath%20d='M14.545%200h2.909v5.818h-2.909v-5.818z'%3e%3c/path%3e%3cpath%20d='M14.545%2026.182h2.909v5.818h-2.909v-5.818z'%3e%3c/path%3e%3cpath%20d='M5.818%2014.545v2.909h-5.818v-2.909h5.818z'%3e%3c/path%3e%3cpath%20d='M32%2014.545v2.909h-5.818v-2.909h5.818z'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='close'%20viewBox='0%200%2032%2032'%3e%3cpath%20stroke-linejoin='miter'%20stroke-linecap='butt'%20stroke-miterlimit='4'%20stroke-width='4'%20d='M2.667%202.667l26.667%2026.667M2.667%2029.333l26.667-26.667'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='arrow'%20viewBox='0%200%2022%2032'%3e%3cpath%20stroke-linejoin='miter'%20stroke-linecap='butt'%20stroke-miterlimit='4'%20stroke-width='4.8'%20d='M3.2%203.2l12.8%2012.8-12.8%2012.8'%3e%3c/path%3e%3c/symbol%3e%3c/defs%3e%3c/svg%3e";function m(){new l("[data-swiper-cities]",{modules:[u],spaceBetween:10,slidesPerView:"auto",navigation:{nextEl:"[data-swiper-right]",prevEl:"[data-swiper-left]"}})}const h="7aa569d556494f818ff173014251206";async function y(e){return await d.get("https://api.weatherapi.com/v1/forecast.json?days=1",{params:{key:h,q:e}})}function c(){const e=JSON.parse(localStorage.getItem("cities"));v(e),!(!e||e.length===0)&&(o.favoritiesList.innerHTML=g(e),m())}function v(e){if(!e||e.length<3){o.swiperNavButtons.forEach(t=>t.style.display="none");return}o.swiperNavButtons.forEach(t=>t.style.display="block")}function g(e){return e.map(t=>`<li class="header-favority-list-item swiper-slide">
                        <span class="header-favority-list-item-text">${t}</span>
                        <button type="button" class="header-favority-list-item-button" data-city-del-button="${t}">
                            <svg>
                                <use href="${f}#close"></use>
                            </svg>
                        </button>
                     </li>`).join("")}function w(){const e=o.cityInput.value.trim();if(!e)return;const t=b(e);S(t),o.cityInput.value=""}function b(e){return`${e[0].toUpperCase()}${e.slice(1).toLowerCase()}`}function S(e){const t=JSON.parse(localStorage.getItem("cities"))||[];t.includes(e)||(t.push(e),localStorage.setItem("cities",JSON.stringify(t)),k(),c())}function k(){p.success({message:"City added to favorites",maxWidth:"200px",position:"topRight",messageSize:"10",icon:"",progressBar:!1,timeout:1e3,backgroundColor:"transparent",close:!1})}function L(e){const t=e.target.closest("[data-city-del-button]");if(!t)return;const n=t.dataset.cityDelButton,s=JSON.parse(localStorage.getItem("cities"));localStorage.setItem("cities",JSON.stringify(s.filter(i=>i!==n))),c()}async function M(){const e=o.cityInput.value.trim();if(e)try{const t=await y(e);B(t.data)}catch{console.log("1")}}function B(e){x(e.current.temp_c),N(e.location)}function x(e){o.curentTemp.innerHTML=e}function N({name:e,country:t}){o.currentLocation.innerHTML=`${e}, ${t}`}o.favoritesButton.addEventListener("click",w);o.favoritiesList.addEventListener("click",L);o.searchButton.addEventListener("click",M);c();
//# sourceMappingURL=index.js.map
