import{S as p,N as m,a as f,i as d}from"./assets/vendor-Dsc43iqD.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();const i={favoritesButton:document.querySelector("[data-add-favorites]"),cityInput:document.querySelector("[data-input-city]"),favoritiesList:document.querySelector("[data-favorities-list]"),swiperNavButtons:document.querySelectorAll(".header-wrapper-nav-button"),searchButton:document.querySelector("[data-search-button]"),curentTemp:document.querySelector(".days-current-temp"),currentLocation:document.querySelector(".days-city-title"),daysWrapper:document.querySelector(".days-wrapper"),maxTempText:document.querySelector("[data-max-temp]"),minTempText:document.querySelector("[data-min-temp]")},y="data:image/svg+xml,%3csvg%20aria-hidden='true'%20style='position:%20absolute;%20width:%200;%20height:%200;%20overflow:%20hidden;'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3csymbol%20id='star'%20viewBox='0%200%2035%2032'%3e%3cpath%20stroke-linejoin='miter'%20stroke-linecap='butt'%20stroke-miterlimit='4'%20stroke-width='1.6'%20d='M20.791%2012.408l0.18%200.553h10.906l-8.824%206.411%203.37%2010.372-8.823-6.409-0.47%200.341-8.355%206.069%203.372-10.372-8.823-6.411h10.906l3.37-10.373%203.191%209.82z'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='location'%20viewBox='0%200%2032%2032'%3e%3cpath%20stroke-linejoin='miter'%20stroke-linecap='butt'%20stroke-miterlimit='4'%20stroke-width='2.9091'%20d='M27.636%2016c0%206.427-5.21%2011.636-11.636%2011.636s-11.636-5.21-11.636-11.636c0-6.427%205.21-11.636%2011.636-11.636s11.636%205.21%2011.636%2011.636z'%3e%3c/path%3e%3cpath%20d='M14.545%200h2.909v5.818h-2.909v-5.818z'%3e%3c/path%3e%3cpath%20d='M14.545%2026.182h2.909v5.818h-2.909v-5.818z'%3e%3c/path%3e%3cpath%20d='M5.818%2014.545v2.909h-5.818v-2.909h5.818z'%3e%3c/path%3e%3cpath%20d='M32%2014.545v2.909h-5.818v-2.909h5.818z'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='close'%20viewBox='0%200%2032%2032'%3e%3cpath%20stroke-linejoin='miter'%20stroke-linecap='butt'%20stroke-miterlimit='4'%20stroke-width='4'%20d='M2.667%202.667l26.667%2026.667M2.667%2029.333l26.667-26.667'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='arrow'%20viewBox='0%200%2022%2032'%3e%3cpath%20stroke-linejoin='miter'%20stroke-linecap='butt'%20stroke-miterlimit='4'%20stroke-width='4.8'%20d='M3.2%203.2l12.8%2012.8-12.8%2012.8'%3e%3c/path%3e%3c/symbol%3e%3c/defs%3e%3c/svg%3e";function h(){new p("[data-swiper-cities]",{modules:[m],spaceBetween:10,slidesPerView:"auto",navigation:{nextEl:"[data-swiper-right]",prevEl:"[data-swiper-left]"}})}const g="7aa569d556494f818ff173014251206";async function v(e){return(await f.get("https://api.weatherapi.com/v1/forecast.json?days=1",{params:{key:g,q:e}})).data}function l(){const e=JSON.parse(localStorage.getItem("cities"));if(w(e),!e||e.length===0){i.favoritiesList.innerHTML="";return}i.favoritiesList.innerHTML=x(e),h()}function w(e){if(!e||e.length<3){i.swiperNavButtons.forEach(t=>t.style.display="none");return}i.swiperNavButtons.forEach(t=>t.style.display="block")}function x(e){return e.map(t=>`<li class="header-favority-list-item swiper-slide">
                        <span class="header-favority-list-item-text">${t}</span>
                        <button type="button" class="header-favority-list-item-button" data-city-del-button="${t}">
                            <svg>
                                <use href="${y}#close"></use>
                            </svg>
                        </button>
                     </li>`).join("")}async function S(){const e=await u();e&&k(e)}function b(e){return`${e[0].toUpperCase()}${e.slice(1).toLowerCase()}`}function k(e){const t=JSON.parse(localStorage.getItem("cities"))||[];t.includes(e)||(t.push(e),localStorage.setItem("cities",JSON.stringify(t)),L(),l())}function L(){d.success({message:"City added to favorites",maxWidth:"200px",position:"topRight",messageSize:"10",icon:"",progressBar:!1,timeout:1e3,backgroundColor:"transparent",close:!1,messageColor:"green"})}function T(){d.error({message:"City not found",maxWidth:"200px",position:"topRight",messageSize:"10",icon:"",progressBar:!1,timeout:1e3,backgroundColor:"transparent",close:!1,messageColor:"red"})}function C(e){const t=e.target.closest("[data-city-del-button]")?e.target.closest("[data-city-del-button]"):e.target.closest(".header-favority-list-item-text");if(t){if(t.tagName==="BUTTON"){M(t);return}i.cityInput.value=t.textContent,u()}}function M(e){const t=e.dataset.cityDelButton,s=JSON.parse(localStorage.getItem("cities"));localStorage.setItem("cities",JSON.stringify(s.filter(n=>n!==t))),l()}async function u(){const e=i.cityInput.value.trim();if(!e)return;const t=b(e);try{const s=await v(t);return B(s),t}catch{return T(),!1}finally{i.cityInput.value=""}}function B(e){N(e.current.temp_c),q(e.location),I(e.current.cloud),E(e.forecast.forecastday[0].day.maxtemp_c),z(e.forecast.forecastday[0].day.mintemp_c)}function N(e){i.curentTemp.innerHTML=e}function q({name:e,country:t}){i.currentLocation.innerHTML=`${e}, ${t}`}function I(e){e>=85?c("./cloudy.png","cloudy"):e>=30?c("./cloudy-sun.png","cloudy-sun"):c("./sun.png","sun")}function c(e,t){O();const s=document.createElement("img");s.src=e,s.alt=t,s.classList.add("days-cloudy"),i.daysWrapper.prepend(s)}function O(){const e=document.querySelector(".days-cloudy");e&&e.remove()}function E(e){i.maxTempText.textContent=`${e}°`}function z(e){i.minTempText.textContent=`${e}°`}i.favoritesButton.addEventListener("click",S);i.favoritiesList.addEventListener("click",C);i.searchButton.addEventListener("click",u);l();
//# sourceMappingURL=index.js.map
