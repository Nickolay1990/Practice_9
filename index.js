import{i as d,S as y,N as p,a as h}from"./assets/vendor-Dsc43iqD.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();const r={favoritesButton:document.querySelector("[data-add-favorites]"),cityInput:document.querySelector("[data-input-city]"),favoritiesList:document.querySelector("[data-favorities-list]"),swiperNavButtons:document.querySelectorAll(".header-wrapper-nav-button"),searchButton:document.querySelector("[data-search-button]"),curentTemp:document.querySelector(".days-current-temp"),currentLocation:document.querySelector(".days-city-title"),threeCurrentLocation:document.querySelector(".three-days-city-title"),daysWrapper:document.querySelector(".days-wrapper"),maxTempText:document.querySelector("[data-max-temp]"),minTempText:document.querySelector("[data-min-temp]"),currentDate:document.querySelector(".date-day"),currentDay:document.querySelector(".day-week"),currentMonth:document.querySelector(".date-month"),currentTime:document.querySelector(".date-time"),sunRise:document.querySelector(".sunrise"),sunSet:document.querySelector(".sunset"),sunBlock:document.querySelector(".sun-rise-set"),switchThreeDays:document.querySelector("[data-switch-three-days]"),switchOneDay:document.querySelector("[data-switch-one-day]"),homeSection:document.querySelector(".home"),citeBlock:document.querySelector("[data-cite-block]"),dateBlock:document.querySelector(".date-wrapper"),threeDayContainer:document.querySelector(".three-day-container"),threeDaysCityWeekday:document.querySelectorAll(".three-days-city-list-weekday"),threeDaysDate:document.querySelectorAll(".three-days-city-list-date"),threeDaysElemetsForImage:document.querySelectorAll(".three-days-city-list-hight-item"),threeDaysElementsForMinTemp:document.querySelectorAll(".three-days-city-list-min-temp-deg"),threeDaysElementsForMaxTemp:document.querySelectorAll(".three-days-city-list-max-temp-deg"),moreInfoButtons:document.querySelectorAll(".three-days-city-list-more-button"),moreInfoListItems:document.querySelectorAll(".three-days-more-info-list-item-wrapper"),moreInfoCurrentTemp:document.querySelectorAll(".three-days-more-info-list-item-current-temp"),moreInfoPressure:document.querySelectorAll(".three-days-more-info-list-item-esential-block-pressure-data"),moreInfoHumidity:document.querySelectorAll(".three-days-more-info-list-item-esential-block-humidity-data"),moreInfoWind:document.querySelectorAll(".three-days-more-info-list-item-esential-block-wind-data")};function g(){d.error({message:"City not found",maxWidth:"200px",position:"topRight",messageSize:"10",icon:"",progressBar:!1,timeout:1e3,backgroundColor:"transparent",close:!1,messageColor:"red"})}function S(){d.success({message:"City added to favorites",maxWidth:"200px",position:"topRight",messageSize:"10",icon:"",progressBar:!1,timeout:1e3,backgroundColor:"transparent",close:!1,messageColor:"green"})}function v(){new y("[data-swiper-cities]",{modules:[p],spaceBetween:10,slidesPerView:"auto",navigation:{nextEl:"[data-swiper-right]",prevEl:"[data-swiper-left]"}})}function D(){new y("[data-swiper-more-info]",{spaceBetween:30,slidesPerView:2})}function u(){const e=JSON.parse(localStorage.getItem("cities"));if(w(e),!e||e.length===0){r.favoritiesList.innerHTML="";return}r.favoritiesList.innerHTML=C(e),v()}function w(e){if(!e||e.length<3){r.swiperNavButtons.forEach(t=>t.style.display="none");return}r.swiperNavButtons.forEach(t=>t.style.display="block")}function C(e){return e.map(t=>`<li class="header-favority-list-item swiper-slide">
                        <span class="header-favority-list-item-text">${t}</span>
                        <button type="button" class="header-favority-list-item-button" data-city-del-button="${t}">
                            <svg>
                                <use href="./symbol-defs.svg#close"></use>
                            </svg>
                        </button>
                     </li>`).join("")}function x(e){const t=JSON.parse(localStorage.getItem("cities"))||[];t.includes(e)||(t.push(e),localStorage.setItem("cities",JSON.stringify(t)),S(),u())}function T(e){const t=e.dataset.cityDelButton,o=JSON.parse(localStorage.getItem("cities"));localStorage.setItem("cities",JSON.stringify(o.filter(s=>s!==t))),u()}const c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m=["January","February","March","April","May","June","July","August","September","October","November","December"];function E(e){return`${e[0].toUpperCase()}${e.slice(1).toLowerCase()}`}function q(e){console.log("data>>>>>",e),L(e.current.temp_c),I(e.location),M(e),k(e.forecast.forecastday),b(e.forecast.forecastday),B(e.forecast.forecastday[0].astro.sunrise),O(e.forecast.forecastday[0].astro.sunset),r.sunBlock.style.display="flex"}function L(e){r.curentTemp.innerHTML=e}function I({name:e,country:t}){r.currentLocation.innerHTML=`${e}, ${t}`,r.threeCurrentLocation.innerHTML=`${e}, ${t}`}function M(e){$();const t=document.createElement("img");t.src=e.current.condition.icon,t.alt="conditions",t.classList.add("days-cloudy"),r.daysWrapper.prepend(t),r.threeDaysElemetsForImage.forEach((o,s)=>{const n=document.createElement("img");n.src=e.forecast.forecastday[s].day.condition.icon,n.classList.add("days-cloudy"),n.alt="conditions",o.append(n)})}function k(e){r.maxTempText.textContent=`${e[0].day.maxtemp_c}°`,r.threeDaysElementsForMaxTemp.forEach((t,o)=>{t.textContent=`${e[o].day.maxtemp_c}°`})}function b(e){r.minTempText.textContent=`${e[0].day.mintemp_c}°`,r.threeDaysElementsForMinTemp.forEach((t,o)=>{t.textContent=`${e[o].day.mintemp_c}°`})}function B(e){r.sunRise.textContent=e.split(" ")[0]}function O(e){r.sunSet.textContent=e.split(" ")[0]}function $(){const e=document.querySelectorAll(".days-cloudy");e.length>0&&e.forEach(t=>t.remove())}function A(){const e=new Date;N(e),W(e.getDay()),F(e.getMonth()),setInterval(()=>{H(new Date)},1e3)}function N(e){const t=e%10===1&&e!==11?"st":e%10===2&&e!==12?"nd":e%10===3&&e!==13?"rd":"th";r.currentDate.innerHTML=`${e.getDate()}<sup>${t}</sup>`,r.threeDaysDate.forEach((o,s)=>{const n=new Date(e);n.setDate(e.getDate()+s),o.textContent=`${n.getDate()} ${m[n.getMonth()].slice(0,3)}`})}function W(e){r.currentDay.textContent=c[e],r.threeDaysCityWeekday.forEach((t,o)=>{const s=e+o;if(s>=7){t.textContent=c[s===7?0:1];return}t.textContent=c[s]})}function F(e){r.currentMonth.textContent=m[e]}function H(e){const t=e.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});r.currentTime.textContent=t}function P(e){_(e.forecast.forecastday),J(e.forecast.forecastday),R(e.forecast.forecastday),z(e.forecast.forecastday),V(e.forecast.forecastday)}function _(e){j(),r.moreInfoListItems.forEach((t,o)=>{const s=document.createElement("img");s.src=e[o].hour[0].condition.icon,s.alt="condition",s.classList.add("days-cloudy"),s.dataset.days="three",t.append(s)})}function J(e){r.moreInfoCurrentTemp.forEach((t,o)=>{t.textContent=`${e[o].day.avgtemp_c}°`})}function R(e){const t=new Date().getHours();r.moreInfoPressure.forEach((o,s)=>{o.textContent=`${Math.floor(e[s].hour[t].pressure_in*25.5)} mm`})}function z(e){r.moreInfoHumidity.forEach((t,o)=>{t.textContent=`${e[o].day.avghumidity}%`})}function V(e){console.log(e),r.moreInfoWind.forEach((t,o)=>{t.textContent=`${(e[o].day.maxwind_kph*1e3/60/60).toFixed(1)} m/s`})}function j(){const e=document.querySelectorAll("[data-days=three]");e.length!==0&&e.forEach(t=>t.remove())}const K="7aa569d556494f818ff173014251206";let f;async function U(e){const t=await h.get("https://api.weatherapi.com/v1/forecast.json?days=3",{params:{key:K,q:e}});return f=t.data,t.data}async function G(){const e=await l();e&&x(e)}function Y(e){const t=e.target.closest("[data-city-del-button]")?e.target.closest("[data-city-del-button]"):e.target.closest(".header-favority-list-item-text");if(t){if(t.tagName==="BUTTON"){T(t);return}r.cityInput.value=t.textContent,l()}}function Q(){r.daysWrapper.style.display="none",r.homeSection.classList.add("home-three"),r.switchOneDay.classList.remove("is-active"),r.switchThreeDays.classList.add("is-active"),r.citeBlock.style.display="none",r.dateBlock.style.display="none",r.threeDayContainer.style.display="block"}function X(){r.daysWrapper.style.display="block",r.homeSection.classList.remove("home-three"),r.switchOneDay.classList.add("is-active"),r.switchThreeDays.classList.remove("is-active"),r.citeBlock.style.display="block",r.dateBlock.style.display="block",r.threeDayContainer.style.display="none"}async function l(){const e=r.cityInput.value.trim();if(!e)return;const t=E(e);try{const o=await U(t);return q(o),t}catch{return g(),!1}finally{r.cityInput.value=""}}function Z(){P(f)}r.favoritesButton.addEventListener("click",G);r.favoritiesList.addEventListener("click",Y);r.searchButton.addEventListener("click",l);r.switchThreeDays.addEventListener("click",Q);r.switchOneDay.addEventListener("click",X);r.moreInfoButtons.forEach(e=>e.addEventListener("click",Z));u();A();D();
//# sourceMappingURL=index.js.map
