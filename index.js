import{i as d,S as m,N as f,a as p}from"./assets/vendor-Dsc43iqD.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const t={favoritesButton:document.querySelector("[data-add-favorites]"),cityInput:document.querySelector("[data-input-city]"),favoritiesList:document.querySelector("[data-favorities-list]"),swiperNavButtons:document.querySelectorAll(".header-wrapper-nav-button"),searchButton:document.querySelector("[data-search-button]"),curentTemp:document.querySelector(".days-current-temp"),currentLocation:document.querySelector(".days-city-title"),threeCurrentLocation:document.querySelector(".three-days-city-title"),daysWrapper:document.querySelector(".days-wrapper"),maxTempText:document.querySelector("[data-max-temp]"),minTempText:document.querySelector("[data-min-temp]"),currentDate:document.querySelector(".date-day"),currentDay:document.querySelector(".day-week"),currentMonth:document.querySelector(".date-month"),currentTime:document.querySelector(".date-time"),sunRise:document.querySelector(".sunrise"),sunSet:document.querySelector(".sunset"),sunBlock:document.querySelector(".sun-rise-set"),switchThreeDays:document.querySelector("[data-switch-three-days]"),switchOneDay:document.querySelector("[data-switch-one-day]"),homeSection:document.querySelector(".home"),citeBlock:document.querySelector("[data-cite-block]"),dateBlock:document.querySelector(".date-wrapper"),threeDayContainer:document.querySelector(".three-day-container"),threeDaysCityWeekday:document.querySelectorAll(".three-days-city-list-weekday"),threeDaysDate:document.querySelectorAll(".three-days-city-list-date"),threeDaysElemetsForImage:document.querySelectorAll(".three-days-city-list-hight-item")};function h(){d.error({message:"City not found",maxWidth:"200px",position:"topRight",messageSize:"10",icon:"",progressBar:!1,timeout:1e3,backgroundColor:"transparent",close:!1,messageColor:"red"})}function g(){d.success({message:"City added to favorites",maxWidth:"200px",position:"topRight",messageSize:"10",icon:"",progressBar:!1,timeout:1e3,backgroundColor:"transparent",close:!1,messageColor:"green"})}function S(){new m("[data-swiper-cities]",{modules:[f],spaceBetween:10,slidesPerView:"auto",navigation:{nextEl:"[data-swiper-right]",prevEl:"[data-swiper-left]"}})}function c(){const e=JSON.parse(localStorage.getItem("cities"));if(v(e),!e||e.length===0){t.favoritiesList.innerHTML="";return}t.favoritiesList.innerHTML=D(e),S()}function v(e){if(!e||e.length<3){t.swiperNavButtons.forEach(r=>r.style.display="none");return}t.swiperNavButtons.forEach(r=>r.style.display="block")}function D(e){return e.map(r=>`<li class="header-favority-list-item swiper-slide">
                        <span class="header-favority-list-item-text">${r}</span>
                        <button type="button" class="header-favority-list-item-button" data-city-del-button="${r}">
                            <svg>
                                <use href="./symbol-defs.svg#close"></use>
                            </svg>
                        </button>
                     </li>`).join("")}function w(e){const r=JSON.parse(localStorage.getItem("cities"))||[];r.includes(e)||(r.push(e),localStorage.setItem("cities",JSON.stringify(r)),g(),c())}function L(e){const r=e.dataset.cityDelButton,o=JSON.parse(localStorage.getItem("cities"));localStorage.setItem("cities",JSON.stringify(o.filter(i=>i!==r))),c()}const l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],y=["January","February","March","April","May","June","July","August","September","October","November","December"];function T(e){return`${e[0].toUpperCase()}${e.slice(1).toLowerCase()}`}function C(e){console.log("data>>>>>",e),q(e.current.temp_c),x(e.location),k(e),b(e.forecast.forecastday[0].day.maxtemp_c),B(e.forecast.forecastday[0].day.mintemp_c),E(e.forecast.forecastday[0].astro.sunrise),M(e.forecast.forecastday[0].astro.sunset),t.sunBlock.style.display="flex"}function q(e){t.curentTemp.innerHTML=e}function x({name:e,country:r}){t.currentLocation.innerHTML=`${e}, ${r}`,t.threeCurrentLocation.innerHTML=`${e}, ${r}`}function k(e){O();const r=document.createElement("img");r.src=e.current.condition.icon,r.alt="conditions",r.classList.add("days-cloudy"),t.daysWrapper.prepend(r),t.threeDaysElemetsForImage.forEach((o,i)=>{const n=document.createElement("img");n.src=e.forecast.forecastday[i].day.condition.icon,n.classList.add("days-cloudy"),n.alt="conditions",o.append(n)})}function b(e){t.maxTempText.textContent=`${e}°`}function B(e){t.minTempText.textContent=`${e}°`}function E(e){t.sunRise.textContent=e.split(" ")[0]}function M(e){t.sunSet.textContent=e.split(" ")[0]}function O(){const e=document.querySelectorAll(".days-cloudy");e.length>0&&e.forEach(r=>r.remove())}function N(){const e=new Date;I(e),$(e.getDay()),W(e.getMonth()),setInterval(()=>{A(new Date)},1e3)}function I(e){const r=e%10===1&&e!==11?"st":e%10===2&&e!==12?"nd":e%10===3&&e!==13?"rd":"th";t.currentDate.innerHTML=`${e.getDate()}<sup>${r}</sup>`,t.threeDaysDate.forEach((o,i)=>{const n=new Date(e);n.setDate(e.getDate()+i),console.log(),o.textContent=`${n.getDate()} ${y[n.getMonth()].slice(0,3)}`})}function $(e){t.currentDay.textContent=l[e],t.threeDaysCityWeekday.forEach((r,o)=>{r.textContent=l[e+o]})}function W(e){t.currentMonth.textContent=y[e]}function A(e){const r=e.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});t.currentTime.textContent=r}const F="7aa569d556494f818ff173014251206";async function J(e){return(await p.get("https://api.weatherapi.com/v1/forecast.json?days=3",{params:{key:F,q:e}})).data}async function H(){const e=await u();e&&w(e)}function P(e){const r=e.target.closest("[data-city-del-button]")?e.target.closest("[data-city-del-button]"):e.target.closest(".header-favority-list-item-text");if(r){if(r.tagName==="BUTTON"){L(r);return}t.cityInput.value=r.textContent,u()}}function R(){t.daysWrapper.style.display="none",t.homeSection.classList.add("home-three"),t.switchOneDay.classList.remove("is-active"),t.switchThreeDays.classList.add("is-active"),t.citeBlock.style.display="none",t.dateBlock.style.display="none",t.threeDayContainer.style.display="block"}function z(){t.daysWrapper.style.display="block",t.homeSection.classList.remove("home-three"),t.switchOneDay.classList.add("is-active"),t.switchThreeDays.classList.remove("is-active"),t.citeBlock.style.display="block",t.dateBlock.style.display="block",t.threeDayContainer.style.display="none"}async function u(){const e=t.cityInput.value.trim();if(!e)return;const r=T(e);try{const o=await J(r);return C(o),r}catch{return h(),!1}finally{t.cityInput.value=""}}t.favoritesButton.addEventListener("click",H);t.favoritiesList.addEventListener("click",P);t.searchButton.addEventListener("click",u);t.switchThreeDays.addEventListener("click",R);t.switchOneDay.addEventListener("click",z);c();N();
//# sourceMappingURL=index.js.map
