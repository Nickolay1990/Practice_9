{"version":3,"file":"index.js","sources":["../src/js/navigation.js","../src/img/symbol-defs.svg","../src/js/swiper.js","../src/js/api-service.js","../src/js/header-handlers.js","../src/main.js"],"sourcesContent":["export default {\n\tfavoritesButton: document.querySelector('[data-add-favorites]'),\n\tcityInput: document.querySelector('[data-input-city]'),\n\tfavoritiesList: document.querySelector('[data-favorities-list]'),\n\tswiperNavButtons: document.querySelectorAll('.header-wrapper-nav-button'),\n\tsearchButton: document.querySelector('[data-search-button]'),\n\tcurentTemp: document.querySelector('.days-current-temp'),\n\tcurrentLocation: document.querySelector('.days-city-title'),\n};\n","export default \"data:image/svg+xml,%3csvg%20aria-hidden='true'%20style='position:%20absolute;%20width:%200;%20height:%200;%20overflow:%20hidden;'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3csymbol%20id='star'%20viewBox='0%200%2035%2032'%3e%3cpath%20stroke-linejoin='miter'%20stroke-linecap='butt'%20stroke-miterlimit='4'%20stroke-width='1.6'%20d='M20.791%2012.408l0.18%200.553h10.906l-8.824%206.411%203.37%2010.372-8.823-6.409-0.47%200.341-8.355%206.069%203.372-10.372-8.823-6.411h10.906l3.37-10.373%203.191%209.82z'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='location'%20viewBox='0%200%2032%2032'%3e%3cpath%20stroke-linejoin='miter'%20stroke-linecap='butt'%20stroke-miterlimit='4'%20stroke-width='2.9091'%20d='M27.636%2016c0%206.427-5.21%2011.636-11.636%2011.636s-11.636-5.21-11.636-11.636c0-6.427%205.21-11.636%2011.636-11.636s11.636%205.21%2011.636%2011.636z'%3e%3c/path%3e%3cpath%20d='M14.545%200h2.909v5.818h-2.909v-5.818z'%3e%3c/path%3e%3cpath%20d='M14.545%2026.182h2.909v5.818h-2.909v-5.818z'%3e%3c/path%3e%3cpath%20d='M5.818%2014.545v2.909h-5.818v-2.909h5.818z'%3e%3c/path%3e%3cpath%20d='M32%2014.545v2.909h-5.818v-2.909h5.818z'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='close'%20viewBox='0%200%2032%2032'%3e%3cpath%20stroke-linejoin='miter'%20stroke-linecap='butt'%20stroke-miterlimit='4'%20stroke-width='4'%20d='M2.667%202.667l26.667%2026.667M2.667%2029.333l26.667-26.667'%3e%3c/path%3e%3c/symbol%3e%3csymbol%20id='arrow'%20viewBox='0%200%2022%2032'%3e%3cpath%20stroke-linejoin='miter'%20stroke-linecap='butt'%20stroke-miterlimit='4'%20stroke-width='4.8'%20d='M3.2%203.2l12.8%2012.8-12.8%2012.8'%3e%3c/path%3e%3c/symbol%3e%3c/defs%3e%3c/svg%3e\"","import Swiper from 'swiper';\nimport 'swiper/css';\nimport { Navigation } from 'swiper/modules';\n\nlet citySwiper;\n\nexport function initCitySwiper() {\n\tcitySwiper = new Swiper('[data-swiper-cities]', {\n\t\tmodules: [Navigation],\n\t\tspaceBetween: 10,\n\t\tslidesPerView: 'auto',\n\t\tnavigation: {\n\t\t\tnextEl: '[data-swiper-right]',\n\t\t\tprevEl: '[data-swiper-left]',\n\t\t},\n\t});\n}\n","import axios from 'axios';\n\nconst key = '7aa569d556494f818ff173014251206';\n\nexport async function getWeather(city) {\n\tconst res = await axios.get(\n\t\t`https://api.weatherapi.com/v1/forecast.json?days=1`,\n\t\t{\n\t\t\tparams: { key: key, q: city },\n\t\t}\n\t);\n\n\treturn res;\n}\n","import DOM from './navigation';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport icon from '../img/symbol-defs.svg';\nimport { initCitySwiper } from './swiper';\nimport { getWeather } from './api-service';\n\nexport function renderFavorites() {\n\tconst cities = JSON.parse(localStorage.getItem('cities'));\n\n\tinitialNavButtons(cities);\n\n\tif (!cities || cities.length === 0) {\n\t\treturn;\n\t}\n\n\tDOM.favoritiesList.innerHTML = createMarkup(cities);\n\tinitCitySwiper();\n}\n\nfunction initialNavButtons(cities) {\n\tif (!cities || cities.length < 3) {\n\t\tDOM.swiperNavButtons.forEach(button => (button.style.display = 'none'));\n\t\treturn;\n\t}\n\tDOM.swiperNavButtons.forEach(button => (button.style.display = 'block'));\n}\n\nfunction createMarkup(cities) {\n\treturn cities\n\t\t.map(city => {\n\t\t\treturn `<li class=\"header-favority-list-item swiper-slide\">\n                        <span class=\"header-favority-list-item-text\">${city}</span>\n                        <button type=\"button\" class=\"header-favority-list-item-button\" data-city-del-button=\"${city}\">\n                            <svg>\n                                <use href=\"${icon}#close\"></use>\n                            </svg>\n                        </button>\n                     </li>`;\n\t\t})\n\t\t.join('');\n}\n\nexport function handleFavore() {\n\tconst inputValue = DOM.cityInput.value.trim();\n\tif (!inputValue) {\n\t\treturn;\n\t}\n\n\tconst capCity = capitalizeFirst(inputValue);\n\n\tsetCityStorage(capCity);\n\n\tDOM.cityInput.value = '';\n}\n\nfunction capitalizeFirst(word) {\n\treturn `${word[0].toUpperCase()}${word.slice(1).toLowerCase()}`;\n}\n\nfunction setCityStorage(city) {\n\tconst storedCities = JSON.parse(localStorage.getItem('cities')) || [];\n\n\tif (storedCities.includes(city)) {\n\t\treturn;\n\t}\n\n\tstoredCities.push(city);\n\tlocalStorage.setItem('cities', JSON.stringify(storedCities));\n\n\tgetSuccssesMessage();\n\trenderFavorites();\n}\n\nfunction getSuccssesMessage() {\n\tiziToast.success({\n\t\tmessage: 'City added to favorites',\n\t\tmaxWidth: '200px',\n\t\tposition: 'topRight',\n\t\tmessageSize: '10',\n\t\ticon: '',\n\t\tprogressBar: false,\n\t\ttimeout: 1000,\n\t\tbackgroundColor: 'transparent',\n\t\tclose: false,\n\t});\n}\n\nexport function deleteCity(event) {\n\tconst button = event.target.closest('[data-city-del-button]');\n\n\tif (!button) {\n\t\treturn;\n\t}\n\n\tconst cityDel = button.dataset.cityDelButton;\n\tconst cities = JSON.parse(localStorage.getItem('cities'));\n\n\tlocalStorage.setItem(\n\t\t'cities',\n\t\tJSON.stringify(cities.filter(city => city !== cityDel))\n\t);\n\trenderFavorites();\n}\n\nexport async function searchCity() {\n\tconst inputValue = DOM.cityInput.value.trim();\n\tif (!inputValue) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tconst respons = await getWeather(inputValue);\n\t\tsetDataWeather(respons.data);\n\t} catch {\n\t\tconsole.log('1');\n\t}\n}\n\nfunction setDataWeather(data) {\n\trenderTemp(data.current.temp_c);\n\trenderLocation(data.location);\n}\n\nfunction renderTemp(temp) {\n\tDOM.curentTemp.innerHTML = temp;\n}\n\nfunction renderLocation({ name, country }) {\n\tDOM.currentLocation.innerHTML = `${name}, ${country}`;\n}\n","import 'modern-normalize';\nimport DOM from './js/navigation';\nimport * as handlers from './js/header-handlers';\n\nDOM.favoritesButton.addEventListener('click', handlers.handleFavore);\nDOM.favoritiesList.addEventListener('click', handlers.deleteCity);\nDOM.searchButton.addEventListener('click', handlers.searchCity);\n\nhandlers.renderFavorites();\n"],"names":["DOM","icon","initCitySwiper","Swiper","Navigation","key","getWeather","city","axios","renderFavorites","cities","initialNavButtons","createMarkup","button","handleFavore","inputValue","capCity","capitalizeFirst","setCityStorage","word","storedCities","getSuccssesMessage","iziToast","deleteCity","event","cityDel","searchCity","respons","setDataWeather","data","renderTemp","renderLocation","temp","name","country","handlers.handleFavore","handlers.deleteCity","handlers.searchCity","handlers.renderFavorites"],"mappings":"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"}